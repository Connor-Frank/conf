#!/bin/sh

if [ -z "$2" ]; then
  echo "input name of device (to be mounted on /mnt/<name>):"
  read name
else
  name="$2"
fi

if [ -z "$1" ]; then
  lsblk
  echo "input full path (/dev/*) to $name:"
  read location
else
  location="$1"
fi

sudo cryptsetup luksOpen "$location" "$name"
sudo mkdir -p /mnt/"$name"
sudo mount /dev/mapper/"$name" /mnt/"$name"
echo "$location opened and mounted on /mnt/$name"
